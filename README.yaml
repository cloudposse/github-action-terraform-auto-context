---
#
# This is the canonical configuration for the `README.md`
# Run `make readme` to rebuild the `README.md`
#

# Name of this project
name: GitHub Action Terraform Auto-context

# License of this project
license: "APACHE2"

# Copyrights
copyrights:
  - name: "Cloud Posse, LLC"
    url: "https://cloudposse.com"
    year: "2022"

# Canonical GitHub repo
github_repo: cloudposse/github-action-terraform-auto-context

# Badges to display
badges:
  - name: "Test Status"
    image: "https://github.com/cloudposse/github-action-terraform-auto-context/workflows/auto-context/badge.svg?branch=main"
    url: "https://github.com/cloudposse/github-action-terraform-auto-context/actions?query=workflow%3Aauto-context"
  - name: "Latest Release"
    image: "https://img.shields.io/github/release/cloudposse/github-action-terraform-auto-context.svg"
    url: "https://github.com/cloudposse/github-action-terraform-auto-context/releases/latest"
  - name: "Slack Community"
    image: "https://slack.cloudposse.com/badge.svg"
    url: "https://slack.cloudposse.com"

related:
  - name: "GitHub Action Auto-format"
    description: "Add standard files to a repo and keep its README up to date"
    url: "https://github.com/cloudposse/github-action-auto-format"
  - name: "GitHub Action Auto-release"
    description: "Automatically draft release notes for a new release when merges are made into the default branch"
    url: "https://github.com/cloudposse/github-action-auto-release"
  - name: "GitHub Action Terraform CI"
    description: "Full suite of Terraform CI actions, along with chatops support"
    url: "https://github.com/cloudposse/github-action-terraform-ci"
  - name: "GitHub Action Validate CODEOWNERS"
    description: "Validate and lint contents of CODEOWNERS file"
    url: "https://github.com/cloudposse/github-action-validate-codeowners"

# References
references:
  - name: "GitHub Action - Checkout"
    description: 'Checks out a repository under $GITHUB_WORKSPACE, so a workflow can access it'
    url: "https://github.com/actions/checkout"
  - name: "Create Pull Request"
    description: 'Take all unpushed commits and modifications to the code and put it on a new branch with a PR already made'
    url: "https://github.com/peter-evans/create-pull-request"

# Short description of this project
description: |-
  This is a Github Action that will automatically update the `context.tf` file in the calling repo against the most recent version published by Cloud Posse. If a new version is detected, a Pull Request will be opened to update it.
  If the repo version is found to be out of date, a pull request is opened to update it.

usage: |-
  Copy this repository's `.github/workflows/auto-context.yml` file into the `.github/workflows` folder of the repository to which you'd like to add Terraform Auto-context functionality.
  This will cause Auto-context functionality to execute daily at the time specified by the `cron` option (all times are UTC).

  If you'd like to modify the schedule of the Auto-context action, you can follow the standard [cron](https://en.wikipedia.org/wiki/Cron) syntax, as detailed below:

  ```
  schedule:
  # Example of job definition:
  # .---------------- minute (0 - 59)
  # |  .------------- hour (0 - 23)
  # |  |  .---------- day of month (1 - 31)
  # |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
  # |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
  # |  |  |  |  |
  # *  *  *  *  * user-name command to be executed

  # Update README.md nightly at 4am UTC
  - cron:  '0 4 * * *'
  ```

  The default username and email address attached to the commits generated by the Auto-context action are `cloudpossebot` and `11232728+cloudpossebot@users.noreply.github.com`. If you would like to change these defaults, please set the `bot-name` and `bot-email` inputs in the workflow file:
  ```
  with:
    bot-name: [name]
    bot-email: [email]
  ```

# Example usage
examples: |-
  Here are some real world examples:
  - [`github-action-auto-context`](https://github.com/cloudposse/github-action-auto-context/.github/workflows/auto-context.yml) - Cloud Posse's self-testing Auto-context GitHub Action

# How to get started quickly
quickstart: |-
  Here's how to get started...
  1. Copy this repository's `.github/workflows/auto-context.yml` file into the `.github/workflows` folder of the repository to which you'd like to add Terraform Auto-context functionality.

# Contributors to this project
contributors:
  - name: "Dylan Bannon"
    github: "dylanbannon"
